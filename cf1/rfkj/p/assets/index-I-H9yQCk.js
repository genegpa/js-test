import{b as $,aa as z,d as L,u as B,c as V,ab as N,e as f,v as x,x as s,a as T,n as D,g as b,h as F,_ as O,H as P,ac as U,r as g,a9 as w,f as C,q as t,a6 as i,a7 as r,X as q,ad as K,s as j,w as y,ae as H,F as R,k as v,U as h}from"./index-DQ06wVVE.js";import{h as X,E as G,a as S,b as A}from"./input-kZ_yWJYh.js";import{e as J}from"./image-viewer-BIsP1Xxj.js";import{_ as Q,s as W}from"./index-D9dy8V01.js";import{u as Y,E as Z}from"./button-D_3bb7PR.js";const ee=$({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:z,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),te=L({name:"ElText"}),ae=L({...te,props:ee,setup(c){const o=c,a=Y(),l=B("text"),e=V(()=>[l.b(),l.m(o.type),l.m(a.value),l.is("truncated",o.truncated),l.is("line-clamp",!N(o.lineClamp))]);return(d,n)=>(f(),x(O(d.tag),{class:D(b(e)),style:F({"-webkit-line-clamp":d.lineClamp})},{default:s(()=>[T(d.$slots,"default")]),_:3},8,["class","style"]))}});var se=Q(ae,[["__file","text.vue"]]);const E=P(se),M=U("game-p",()=>{const c=g(0),o=g(""),a=g([]);return{addGame:c,searchGame:o,gameList:a}},{persist:!0}),ne={class:"container"},oe={class:"info"},le={class:"row"},ce={class:"row"},me={class:"row"},ue={class:"row"},_e={__name:"GameItem",props:{gameItem:{type:Object,default:{}}},setup(c){return(o,a)=>{const l=J,e=E;return f(),C("div",ne,[t(l,{style:{width:"80px",height:"80px"},src:"."+c.gameItem.game_icon,fit:"cover"},null,8,["src"]),i("div",oe,[i("div",le,[t(e,{class:"title"},{default:s(()=>[r(q(c.gameItem.game_name),1)]),_:1})]),i("div",ce,[t(e,null,{default:s(()=>a[0]||(a[0]=[r("游戏金币")])),_:1}),t(e,null,{default:s(()=>a[1]||(a[1]=[r("游戏账号")])),_:1})]),i("div",me,[t(e,null,{default:s(()=>a[2]||(a[2]=[r("游戏代练")])),_:1}),t(e,null,{default:s(()=>a[3]||(a[3]=[r("装备道具")])),_:1})]),i("div",ue,[t(e,null,{default:s(()=>a[4]||(a[4]=[r("开局号")])),_:1}),t(e,null,{default:s(()=>a[5]||(a[5]=[r("求购广场")])),_:1})])])])}}},re=w(_e,[["__scopeId","data-v-c103d890"]]),de=(c=1)=>X({method:"POST",url:K+"/game/itemlist-p",data:{key:c}}),ie={__name:"GameList",setup(c){const o=M();j(()=>{console.log("onMounted:",o.gameList.length),o.gameList.length?a(o.gameList.concat()):d()}),y(()=>o.searchGame,n=>{console.log("watch:searchGame:",n);const m=o.gameList.filter(u=>u.game_name.indexOf(n)!=-1);a(m)});const a=n=>{e.value=n,l.value=Math.ceil(e.value.length/4),console.log("updateGameList:length=",e.value.length,"row=",l.value)},l=g(0),e=g([]),d=async()=>{const n=await de();o.gameList=n.data,e.value=n.data.concat(),l.value=Math.ceil(n.data.length/4),console.log("getItemList:res.data=",n.data.length,"row=",l.value)};return y(()=>o.addGame,n=>{const m=Math.floor(Math.random()*19+1);e.value.push({game_id:m,game_name:"生死狙击"+m,game_icon:"/gameicon/"+m+".png"}),l.value=Math.ceil(e.value.length/4),console.log("watch:addGame:num=",m,"row=",l.value)}),(n,m)=>{const u=re,p=G,I=S;return f(!0),C(R,null,H(l.value,_=>(f(),x(I,null,{default:s(()=>[t(p,{span:6},{default:s(()=>[v(t(u,{gameItem:e.value[(_-1)*4+0]},null,8,["gameItem"]),[[h,e.value[(_-1)*4+0]]])]),_:2},1024),t(p,{span:6},{default:s(()=>[v(t(u,{gameItem:e.value[(_-1)*4+1]},null,8,["gameItem"]),[[h,e.value[(_-1)*4+1]]])]),_:2},1024),t(p,{span:6},{default:s(()=>[v(t(u,{gameItem:e.value[(_-1)*4+2]},null,8,["gameItem"]),[[h,e.value[(_-1)*4+2]]])]),_:2},1024),t(p,{span:6},{default:s(()=>[v(t(u,{gameItem:e.value[(_-1)*4+3]},null,8,["gameItem"]),[[h,e.value[(_-1)*4+3]]])]),_:2},1024)]),_:2},1024))),256)}}},pe=w(ie,[["__scopeId","data-v-98a0ec15"]]),ge={__name:"GameSearch",setup(c){const o=g(""),a=M(),l=()=>{console.log("searchGame:",o.value),a.searchGame=o.value},e=()=>{a.addGame=Math.random(),console.log("addGame:"+a.addGame)};return(d,n)=>{const m=E,u=G,p=Z,I=A,_=S;return f(),x(_,null,{default:s(()=>[t(u,{span:8},{default:s(()=>[i("div",null,[t(m,{class:"category"},{default:s(()=>n[1]||(n[1]=[r("游戏分类")])),_:1})]),i("div",{onClick:e},[t(m,{class:"add"},{default:s(()=>n[2]||(n[2]=[r("添加游戏")])),_:1})])]),_:1}),t(u,{span:8,class:"search"},{default:s(()=>[t(I,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=k=>o.value=k),placeholder:"请输入要搜索的游戏名","prefix-icon":b(W),clearable:""},{append:s(()=>[t(p,{onClick:l},{default:s(()=>n[3]||(n[3]=[r("搜索")])),_:1})]),_:1},8,["modelValue","prefix-icon"])]),_:1}),t(u,{span:8})]),_:1})}}},fe=w(ge,[["__scopeId","data-v-8cd1fe3b"]]),ve={},he={class:"section"};function xe(c,o){const a=G,l=fe,e=pe,d=S;return f(),x(d,null,{default:s(()=>[t(a,{xs:1,sm:1,md:1,lg:4}),t(a,{xs:22,sm:22,md:22,lg:16},{default:s(()=>[i("div",he,[t(l),t(e)])]),_:1}),t(a,{xs:1,sm:1,md:1,lg:4})]),_:1})}const Le=w(ve,[["render",xe],["__scopeId","data-v-f2d3bef7"]]);export{Le as default};
