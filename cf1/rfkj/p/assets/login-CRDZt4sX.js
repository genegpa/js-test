import{ad as _,a9 as h,r as d,f as R,q as o,x as n,a6 as u,F as U,e as P,g as b,a7 as g,af as k}from"./index-C-S-6HCf.js";import{U as B,E as C}from"./button-hf45579o.js";import{h as f,c as r,a as L,b as S,E as q}from"./input-z7QwcWye.js";import{e as I}from"./image-viewer-eEuSXYxP.js";import{l as N}from"./rfkj-r-BLSunVtG.js";import"./index-DQT2Is20.js";const T=l=>f({method:"POST",url:_+"/user/login",data:l}),F=l=>f({method:"POST",url:_+"/user/register",data:l}),O={class:"logo"},M={class:"main-container",py:"4"},j={class:"main"},z={__name:"login",setup(l){const v=k(),w=B(),t=d(""),a=d(""),x=async()=>{if(!t.value||!a.value){r.warning("请输入用户信息");return}const s=await T({username:t.value,password:a.value});if(console.log("userLogin:res=",s),s.code!=0){r.error(s.msg);return}r.success("登录成功"),w.setProfile(s.data),v.replace({path:"/home"})},E=async()=>{if(!t.value||!a.value){r.warning("请输入用户信息");return}const s=await F({username:t.value,password:a.value});if(console.log("userRegister:res=",s),s.code!=0){r.error(s.msg);return}r.success("注册成功，请登录")};return(s,e)=>{const i=q,V=I,y=L,m=S,p=C;return P(),R(U,null,[o(y,null,{default:n(()=>[o(i,{xs:1,sm:1,md:1,lg:4}),o(i,{xs:22,sm:22,md:22,lg:16},{default:n(()=>[u("div",O,[o(V,{style:{width:"141px",height:"40px"},src:b(N),fit:"cover"},null,8,["src"]),e[2]||(e[2]=u("span",{class:"title"},"欢迎登录",-1))])]),_:1}),o(i,{xs:1,sm:1,md:1,lg:4})]),_:1}),u("div",M,[u("div",j,[o(m,{class:"input",modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=c=>t.value=c),placeholder:"Please input username"},null,8,["modelValue"]),o(m,{class:"input",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=c=>a.value=c),placeholder:"Please input password"},null,8,["modelValue"]),o(p,{class:"btn",onClick:x,type:"primary"},{default:n(()=>e[3]||(e[3]=[g("Login")])),_:1}),o(p,{class:"btn",onClick:E,type:"warning"},{default:n(()=>e[4]||(e[4]=[g("Register")])),_:1})])])],64)}}},Q=h(z,[["__scopeId","data-v-3eeea5c5"]]);export{Q as default};
