import{_ as e}from"./StatusBar.Dvw-z593.js";import{r as a,b as t,c as s,w as l,e as n,f as o,g as i,v as c,h as u,i as r,G as d,o as m,j as g,a as p,u as v,n as _,d as f,F as h}from"./index-D2stlVAZ.js";import{o as x,r as j}from"./uni-icons.CKTOq7Jq.js";import{_ as L}from"./TabBar.DTNOHTwt.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as S,r as T}from"./game.BuCQzgkw.js";import"./uni-easyinput.BtZkK2D6.js";import"./http.DwKtXZSd.js";const y=b({__name:"TabMenu",setup(e){const d=a(0);return(e,a)=>{const m=r;return t(),s(m,{class:"menu"},{default:l((()=>[n(m,{class:o(["item",{active:0==d.value,"active-bg":0==d.value}]),onClick:a[0]||(a[0]=e=>d.value=0)},{default:l((()=>[i(n(m,{class:"active-tag"},null,512),[[c,0==d.value]]),n(m,{class:"title"},{default:l((()=>[u(" 自己挂卖 ")])),_:1}),n(m,{class:"desc"},{default:l((()=>[u(" 需等待买家购买，速度慢 ")])),_:1})])),_:1},8,["class"]),n(m,{class:o(["item",{active:1==d.value,"active-bg":1==d.value}]),onClick:a[1]||(a[1]=e=>d.value=1)},{default:l((()=>[i(n(m,{class:"active-tag"},null,512),[[c,1==d.value]]),n(m,{class:"title"},{default:l((()=>[u(" 快速出货 ")])),_:1}),n(m,{class:"desc"},{default:l((()=>[u(" 卖给商家，速度快、效率高 ")])),_:1})])),_:1},8,["class"])])),_:1})}}},[["__scopeId","data-v-53cc5b19"]]),B={__name:"ItemList",setup(e){const l=new d;console.log("gameStore:",l.gameList.length);let n=a([]);m((()=>{g().in(this).select("#indexedList").boundingClientRect((e=>{i=e.top,console.log("onMounted:listTop=",i)})).exec(),console.log("onMounted:",l.gameList.length),l.gameList.length?n.value=l.gameList.concat():(async()=>{const e=await T();l.gameList=e.data,n.value=e.data.concat(),console.log("getItemList:",e.data.length)})()}));const o=a("252rpx");let i=0;x((e=>{e.scrollTop>i?o.value="0px":o.value="252rpx"}));const c=e=>{const a=[];for(let t of l.gameList){let s=t.list.filter((a=>-1!=a.name.indexOf(e)));s.length&&a.push({index:t.index,title:t.title,list:s})}n.value=a,console.log("onSearch:",e,a.length)},u=e=>{console.log("selected:",e.name),_({url:"/pages/vend/vend-info?gameid="+e.gameid})};return(e,a)=>{const l=j(p("gp-indexed-list"),S);return t(),s(l,{id:"indexedList",mytop:o.value,list:v(n),onSearch:c,onSelected:u},null,8,["mytop","list"])}}},I=b({__name:"vend",setup:a=>(a,s)=>{const l=j(p("StatusBar"),e),o=j(p("TabBar"),L);return t(),f(h,null,[n(l),n(y),n(B),n(o)],64)}},[["__scopeId","data-v-95b31645"]]);export{I as default};
