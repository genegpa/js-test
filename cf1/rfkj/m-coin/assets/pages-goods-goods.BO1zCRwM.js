import{b as e,c as t,w as s,d as l,F as o,l as a,f as n,m as c,e as r,h as u,t as i,s as d,i as p,r as m,a as g,O as _,k as f,q as y,P as v,o as h,g as x,v as I,n as C,G as b,u as k}from"./index-B55G5URM.js";import{r as T,_ as S}from"./uni-icons.ou8sTe52.js";import{_ as L}from"./uni-easyinput.HRb2run9.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as w}from"./empty.Zx9yKSIs.js";import{h as F}from"./http.CKGFPW2h.js";const A=j({name:"UniSegmentedControl",emits:["clickItem"],props:{current:{type:Number,default:0},values:{type:Array,default:()=>[]},activeColor:{type:String,default:"#2979FF"},inActiveColor:{type:String,default:"transparent"},styleType:{type:String,default:"button"}},data:()=>({currentIndex:0}),watch:{current(e){e!==this.currentIndex&&(this.currentIndex=e)}},computed:{},created(){this.currentIndex=this.current},methods:{_onClick(e){this.currentIndex!==e&&(this.currentIndex=e,this.$emit("clickItem",{currentIndex:e}))}}},[["render",function(m,g,_,f,y,v){const h=d,x=p;return e(),t(x,{class:n([["text"===_.styleType?"segmented-control--text":"segmented-control--button"],"segmented-control"]),style:c({borderColor:"text"===_.styleType?"":_.activeColor})},{default:s((()=>[(e(!0),l(o,null,a(_.values,((l,o)=>(e(),t(x,{class:n([["text"===_.styleType?"":"segmented-control__item--button",0===o&&"button"===_.styleType?"segmented-control__item--button--first":"",o===_.values.length-1&&"button"===_.styleType?"segmented-control__item--button--last":""],"segmented-control__item"]),key:o,style:c({backgroundColor:o===y.currentIndex&&"button"===_.styleType?_.activeColor:"button"===_.styleType?_.inActiveColor:"transparent",borderColor:o===y.currentIndex&&"text"===_.styleType||"button"===_.styleType?_.activeColor:_.inActiveColor}),onClick:e=>v._onClick(o)},{default:s((()=>[r(x,null,{default:s((()=>[r(h,{style:c({color:o===y.currentIndex?"text"===_.styleType?_.activeColor:"#fff":"text"===_.styleType?"#000":_.activeColor}),class:n(["segmented-control__text","text"===_.styleType&&o===y.currentIndex?"segmented-control__item--text":""])},{default:s((()=>[u(i(l),1)])),_:2},1032,["style","class"])])),_:2},1024)])),_:2},1032,["class","style","onClick"])))),128))])),_:1},8,["class","style"])}],["__scopeId","data-v-754001e5"]]),V=j({__name:"SearchHeader",props:["gameicon"],setup(t){const a=m(""),n=()=>{console.log("onSearch:"+a.value)},c=()=>{console.log("navigateBack",1),_()},u=m(0),i=m(["全部","游戏币","装备","化石药水","有限无敌药水","材料","代练","其他"]),d=e=>{u.value=e.currentIndex,console.log("onTabItem:",u.value)};return(m,_)=>{const y=T(g("uni-icons"),S),v=f,h=T(g("uni-easyinput"),L),x=p,I=T(g("uni-segmented-control"),A);return e(),l(o,null,[r(x,{class:"search"},{default:s((()=>[r(y,{onClick:c,type:"left",size:"32rpx"}),r(v,{class:"icon",src:t.gameicon,mode:"aspectFill"},null,8,["src"]),r(x,{class:"input"},{default:s((()=>[r(h,{prefixIcon:"search",modelValue:a.value,"onUpdate:modelValue":_[0]||(_[0]=e=>a.value=e),"confirm-type":"search",onConfirm:n,placeholder:"请输入关键词"},null,8,["modelValue"])])),_:1})])),_:1}),r(x,{class:"tabmenu"},{default:s((()=>[r(I,{current:u.value,values:i.value,onClickItem:d,"style-type":"text","active-color":"#f5173b"},null,8,["current","values"])])),_:1})],64)}}},[["__scopeId","data-v-79169ddc"]]),z=j({__name:"ItemList",setup(n){const c=new v;console.log("goodsStore:",c.goodsList.length);const _=m([]),b=async()=>{const e=await((e=1)=>F({method:"POST",url:y+"/goods/goodslist",data:{key:e}}))();c.goodsList=e.data,_.value=e.data.concat(),console.log("getGoodsList:",e.data.length)};h((()=>{console.log("onMounted:",c.goodsList.length),c.goodsList.length?_.value=c.goodsList.concat():b()}));return(n,c)=>{const m=f,y=p,v=d,h=T(g("uni-icons"),S);return e(),t(y,{class:"itemlist-container"},{default:s((()=>[x(r(y,{class:"empty"},{default:s((()=>[r(m,{mode:"aspectFill",src:w}),r(y,null,{default:s((()=>[u(" 暂无商品 ")])),_:1})])),_:1},512),[[I,0==_.value.length]]),x(r(y,{class:"list"},{default:s((()=>[(e(!0),l(o,null,a(_.value,((l,o)=>(e(),t(y,{class:"item",onClick:e=>(e=>{console.log("onItem:",e.gid),C({url:"/pages/goods/detail?gid="+e.gid})})(l),key:o},{default:s((()=>[r(y,{class:"left"},{default:s((()=>[r(y,{class:"title"},{default:s((()=>[r(v,{class:"type"},{default:s((()=>[u(i(l.type),1)])),_:2},1024),r(v,{class:"value"},{default:s((()=>[u(i(l.title),1)])),_:2},1024)])),_:2},1024),r(y,{class:"desc"},{default:s((()=>[u(i(l.specs[0].desc),1)])),_:2},1024),r(y,{class:"desc"},{default:s((()=>[u(i(l.region),1)])),_:2},1024)])),_:2},1024),r(y,{class:"right"},{default:s((()=>[r(y,{class:"price"},{default:s((()=>[r(v,{class:"flag"},{default:s((()=>[u("￥")])),_:1}),u(i(l.specs[0].price),1)])),_:2},1024),r(y,{class:"stock"},{default:s((()=>[u(" 库存："+i(l.specs[0].stock)+"件 ",1)])),_:2},1024),r(y,{class:"contact"},{default:s((()=>[r(h,{type:"star",size:"24rpx",color:"#f5173b"}),u("联系卖家 ")])),_:1})])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},512),[[I,_.value.length]])])),_:1})}}},[["__scopeId","data-v-6a865735"]]),G=j({__name:"goods",props:["gameid"],setup(t){const s=new b,a=t;let n=null;for(let e of s.gameList)if(n=e.list.find((e=>e.gameid==a.gameid)),n)break;return console.log("gameStore:",n.name),(t,s)=>(e(),l(o,null,[r(V,{gameicon:k(n).icon},null,8,["gameicon"]),r(z)],64))}},[["__scopeId","data-v-05cf4d59"]]);export{G as default};
