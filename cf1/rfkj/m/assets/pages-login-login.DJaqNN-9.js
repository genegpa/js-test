import{q as a,s as e,r as l,ac as s,a as u,c as o,b as n,i as t,o as d,d as r,e as i,O as c,g as p,ad as f,ae as m,af as g,aa as _,h as v}from"./index-Bta6_aer.js";import{_ as h}from"./uni-easyinput.BQXCQBjh.js";import{r as j}from"./uni-app.es.Co1SIHr6.js";import{_ as V}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-icons.jxeB0Nw7.js";const y=V({__name:"login",setup(V){const y=l(""),b=l(""),C=l(!1),w=s((()=>""==y.value||""==b.value)),x=async()=>{if(console.log("onLogin:",C.value,w.value),!C.value)return void c({title:"请同意协议",icon:"none"});const l=await(s={username:y.value,userpwd:b.value},a({method:"POST",url:e+"/user/login",data:s}));var s;console.log("onLogin:res=",l)},k=a=>{const e=a.detail.value;C.value=0!=e.length,console.log("changeAgree:",C.value)};return(a,e)=>{const l=p,s=t,c=j(u("uni-easyinput"),h),V=f,C=m,F=g,L=_,O=v;return d(),o(s,{class:"login"},{default:n((()=>[r(s,{class:"title"},{default:n((()=>[r(l,null,{default:n((()=>[i("欢迎来到rfkj交易平台")])),_:1})])),_:1}),r(s,{class:"input"},{default:n((()=>[r(c,{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=a=>y.value=a),placeholder:"请输入账号"},null,8,["modelValue"]),r(c,{modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=a=>b.value=a),placeholder:"请输入密码",type:"password"},null,8,["modelValue"])])),_:1}),r(s,{class:"agreement"},{default:n((()=>[r(F,{onChange:k},{default:n((()=>[r(C,null,{default:n((()=>[r(V,{value:"agree",color:"#FFCC33",style:{transform:"scale(0.7)"}})])),_:1})])),_:1}),r(l,null,{default:n((()=>[i("已阅读并同意")])),_:1}),r(L,{url:"/pages/login/agreement"},{default:n((()=>[i(" 《用户协议》 ")])),_:1})])),_:1}),r(O,{onClick:x,disabled:w.value},{default:n((()=>[i("登录")])),_:1},8,["disabled"]),r(s,{class:"bottom"},{default:n((()=>[r(L,{url:"/pages/login/sms-login"},{default:n((()=>[r(l,{class:"customicons zhuanfa"}),r(l,null,{default:n((()=>[i("短信验证码登录")])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-4d21a9f8"]]);export{y as default};
