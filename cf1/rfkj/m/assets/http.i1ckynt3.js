import{U as t,P as e,Q as s,R as o,n as a,u as i}from"./index-BHgzsgnR.js";const n=t(),r={invoke(t){t.url.startsWith("http")||(t.url=s+t.url),t.timeout=1e4;const e=n.profile.token;e&&(t.header={...t.header,Authorization:e})}};e("request",r),e("uploadFile",r);const l=t=>new Promise(((e,s)=>{o({...t,success(t){t.statusCode>=200&&t.statusCode<300?e(t.data):401===t.statusCode?(n.clearProfile(),a({url:"/pages/login/login"}),s(t)):(i({icon:"none",title:t.data.msg||"请求错误"}),s(t))},fail(t){i({icon:"none",title:"网络错误，换个网络试试"}),s(t)}})}));export{l as h};
